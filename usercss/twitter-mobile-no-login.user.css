/* ==UserStyle==
@name           twitter-mobile-no-login
@namespace      github.com/ibrahn/better-browsing
@version        0.0.2
@description    Hide the fullscreen login and app nagging on twitter mobile site
@author         Ibrahn Sahir (https://github.com/ibrahn)
@homepageURL    https://github.com/ibrahn/better-browsing
@updateURL      https://raw.githubusercontent.com/ibrahn/better-browsing/master/usercss/twitter-mobile-no-login.user.css
@license        CC0
@preprocessor   stylus
@var    checkbox    showTrending   "Show Trending"     0
@var    checkbox    showPostStats  "Show Post Stats"   0
==/UserStyle== */

@-moz-document domain("mobile.twitter.com") {
    /* prevent fullscreen nag from disabling scroll */
    body[style] {
        overflow-y: scroll !important;
    }

    /* hide fullscreen nagging */
    #react-root > div:nth-child(1) > div:nth-child(1) > div:nth-child(1).r-1d2f490.r-u8s1d.r-zchlnj.r-ipm5af.r-184en5c {
        display: none;
    }

    /* hide top bar, don't need search or login */
    header.css-1dbjc4n {
        display: none;
    }

    /* hide login related things */
    div.r-14lw9ot:nth-child(1).css-1dbjc4n.r-14lw9ot.r-15d164r,                     /* side box */
    div.css-1dbjc4n.r-obd0qt.r-18u37iz.r-1w6e6rj.r-1h0z5md.r-dnmrzs,                /* follow buttons */
    div.css-1dbjc4n.r-k200y.r-1n0xq6e,                                              /* follow buttons */
    div.css-18t94o4.css-1dbjc4n.r-1777fci.r-11cpok1.r-1ny4l3l.r-bztko3.r-lrvibr,     /* post interact drop down */
    div.r-tzz3ar > div.r-1guxwsk:nth-child(n+3) /* the media and likes tabs */
    {
        display: none;
    }

    unless showTrending {
        /* hide trending side box */
        div.r-14lw9ot:nth-child(4).css-1dbjc4n.r-14lw9ot.r-15d164r
        {
            display: none;
        }
    }

    unless showPostStats {
        div > div.r-18u37iz:nth-child(5),                       /* profile follower count */
        div.css-1dbjc4n.r-18u37iz.r-1wtj0ep.r-1mdbhws,          /* social stats in feed */
        div.css-1dbjc4n.r-1gkumvb.r-1efd50x.r-5kkj8d.r-18u37iz  /* likes on fullscreen post */
        {
            display: none;
        }
    }
}
